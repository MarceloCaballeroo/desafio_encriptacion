<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@500">
    <title>Página de Encriptación</title>
    <link rel="stylesheet" type="text/css" href="layout/style.css">
</head>
<body>
    <div id="app">
        <object data="assets/Logo.svg" class="logo-top-left"></object>
        <main class="encryption-app">
            <section class="left-section">
                <div class="input-container">
                    <textarea id="inputText" placeholder="Ingrese el texto aquí"></textarea>
                    <div class="note">
                        <object data="assets/bi_exclamation-circle-fill.svg" class="icon"></object>
                        <label for="inputText">Solo letras minúsculas y sin acentos</label>
                    </div>
                    <div class="buttons">
                        <button class="encrypt-button" onclick="encryptText()">Encriptar</button>
                        <button class="decrypt-button" onclick="decryptText()">Desencriptar</button>
                    </div>
                </div>
            </section>
            <section class="right-section">
                <img src="assets/Muñeco.svg" alt="Imagen ilustrativa" class="illustration">
                <p id="outputText" class="message">Ningún mensaje fue encontrado</p>
                <p class="description">Ingresa el texto que desees encriptar o desencriptar.</p>
            </section>
        </main>
    </div>

    <footer class="footer">
        <p>Desarrollado por Marcelo Caballero - <a href="https://github.com/MarceloCaballeroo/desafio_encriptacion" target="_blank">Ver en GitHub</a></p>
    </footer>

    <script >
        window.encryptText = function() {
        const inputText = document.getElementById('inputText').value;
        const outputText = document.getElementById('outputText');
        
        if (/[^a-z\s]/.test(inputText)) {
            outputText.innerText = 'Solo letras minúsculas y sin acentos';
            return;
        }
        
        const encryptedText = inputText
            .replace(/e/g, 'enter')
            .replace(/i/g, 'imes')
            .replace(/a/g, 'ai')
            .replace(/o/g, 'ober')
            .replace(/u/g, 'ufat');
        
        document.querySelector('.right-section').innerHTML = `
            <p id="outputText" class="message">${encryptedText}</p>
            <button class="copy-button" onclick="copyText()">Copiar</button>
        `;
    }

    window.decryptText = function() {
        const inputText = document.getElementById('inputText').value;
        
        if (/[^a-z\s]/.test(inputText)) {
            document.querySelector('.right-section').innerHTML = `
                <p id="outputText" class="message">Solo letras minúsculas y sin acentos</p>
            `;
            return;
        }

        const decryptedText = inputText
            .replace(/enter/g, 'e')
            .replace(/imes/g, 'i')
            .replace(/ai/g, 'a')
            .replace(/ober/g, 'o')
            .replace(/ufat/g, 'u');
        
        document.querySelector('.right-section').innerHTML = `
            <p id="outputText" class="message">${decryptedText}</p>
            <button class="copy-button" onclick="copyText()">Copiar</button>
        `;
    }

    window.copyText = function() {
        const outputText = document.getElementById('outputText').innerText;
        navigator.clipboard.writeText(outputText).then(() => {
            alert('Texto copiado al portapapeles');
        }, () => {
            alert('Error al copiar el texto');
        });
    }

    </script>
</body>
</html>
